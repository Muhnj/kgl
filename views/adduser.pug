doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title Register - Karibu Groceries
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css' rel='stylesheet')
    link(href='https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap' rel='stylesheet')
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css')
    link(rel='stylesheet' href='/css/form.css')
    link(rel='stylesheet' href='/css/creditlist.css') 
    link(href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap' rel='stylesheet')
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css')
    script(src='https://unpkg.com/lucide@latest')

  body
    header.header
      .header-container
        .branding
          .logo
            span.icon(data-lucide='file-text' style='width: 24px; height: 24px')
          h1 KGL Manager Dashboard
        .header-controls
          .branch-selector
            span.icon(data-lucide='map-pin' style='width: 18px; height: 18px')
            span#branchName Main Branch
          a.logout-btn(href='/logout')
            span.icon(data-lucide='log-out' style='width: 18px; height: 18px')
            | Sign Out

    nav.sidebar
      .nav-menu
        a.nav-item(href='/procurement')
          span.icon(data-lucide='package' style='width: 20px; height: 20px')
          span.nav-label Procurement
        a.nav-item(href='/sales')
          span.icon(data-lucide='dollar-sign' style='width: 20px; height: 20px')
          span.nav-label Record Sale
        a.nav-item(href='/ProducesList')
          span.icon(data-lucide='boxes' style='width: 20px; height: 20px')
          span.nav-label Inventory
        a.nav-item(href='/credit-sales')
          span.icon(data-lucide='file-text' style='width: 20px; height: 20px')
          span.nav-label Credit Sales
        a.nav-item(href='/add-user' class='active')
          span.icon(data-lucide='user-plus' style='width: 20px; height: 20px')
          span.nav-label Add User

    main.main-content
      .content-header
        .header-title
          h2
            span.icon(data-lucide='credit-card' style='width: 28px; height: 28px')
            | Register New User
        .header-actions
          a.btn.btn-primary(href='/makesale')
            span.icon(data-lucide='plus-circle')
            | New Sale

      .auth-container
        form#register-form.auth-form(method='post' action='/register' onsubmit="return validateForm(event)")
          h2 Create Account

          .form-group.mb-3
            label(for='role') 
              i.fas.fa-user-tie.me-2
              | Select Your Role
            select#role.form-control(name='role')
              option(value='' disabled selected) Choose your role                            
              option(value='SalesAgent') Sales Agent
            span#error-role.error-message

          #branch-container
            .form-group.mb-3
              label(for='branch') 
                i.fas.fa-store.me-2
                | Select Branch
              select#branch.form-control(name='branch')
                option(value='' disabled selected) Choose your branch
                option(value='Maganjo') Maganjo
                option(value='Mattuga') Mattuga
              span#error-branch.error-message

          .form-group.mb-3
            label(for='username') 
              i.fas.fa-user.me-2
              | Username
            input#username.form-control(type='text' name='username' placeholder='Enter your username')
            span#error-username.error-message

          .form-group.mb-3
            label(for='email') 
              i.fas.fa-envelope.me-2
              | Email Address
            input#email.form-control(type='email' name='email' placeholder='Enter your email')
            span#error-email.error-message

          .form-group.mb-3
            label(for='password') 
              i.fas.fa-lock.me-2
              | Password
            .input-group
              input#password.form-control(type='password' name='password' placeholder='Create a password' autocomplete='new-password')
              span.input-group-text.toggle-password(style="cursor: pointer")
                i.fas.fa-eye
            .progress.mt-2(style="height: 5px;")
              .progress-bar(id="password-strength-bar" role="progressbar" style="width: 0%; transition: width 0.3s ease;")
            small#password-strength-text.form-text.mt-1
            span#error-password.error-message

          .form-group.mb-4
            label(for='confirmPassword') 
              i.fas.fa-lock.me-2
              | Confirm Password
            .input-group
              input#confirmPassword.form-control(type='password' name='confirmPassword' placeholder='Confirm your password')
              span.input-group-text.toggle-password(style="cursor: pointer")
                i.fas.fa-eye
            span#error-confirmPassword.error-message

          button.btn.btn-custom.w-100(type='submit')
            i.fas.fa-user-plus.me-2
            | Register

          
    script.
      // Initialize Lucide Icons
      lucide.createIcons();
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js')
    script(src='/js/script.js')
