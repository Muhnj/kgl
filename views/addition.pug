doctype html
html
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title KGL - Manager Dashboard
    link(rel='stylesheet' href='/css/md.css')
    script(src='https://cdn.jsdelivr.net/npm/chart.js')
    script(src='https://unpkg.com/lucide@latest')

  body
    header
      .header-left
        h1
          span.icon(data-lucide='layout-dashboard')
          | Manager Dashboard
      .header-right
        span#branchName
        a.button#logoutBtn(href="/logout") Logout

    nav.site-nav
      ul.nav-menu
        li
          a(href='/procurement' class='nav-link active')
            span.icon(data-lucide="package")
            | Procurement
        li
          a(href='/sales' class='nav-link')
            span.icon(data-lucide="dollar-sign")
            | Record Sale
        li
          a(href='/ProducesList' class='nav-link')
            span.icon(data-lucide="boxes")
            | Inventory
        li
          a(href='/credit-sales' class='nav-link')
            span.icon(data-lucide="file-text")
            | Credit Sales
        li 
          a(href='/add-user' class='nav-link')
            span.icon(data-lucide='user-plus')
            | Add User

    main
      // Procurement Section
      section#procurement.content-section.active
        h2.section-title 
          span.icon(data-lucide="clipboard-plus")
          | Record New Produce
        form#procurementForm(onsubmit="return formValidate()" action='/addition' method='post' enctype='multipart/form-data')
          .form-row
            .form-group
              label(for='productname') Product Name
              select#productname.form-select(name='productname' )
                option(value='') Select type
                option(value='beans') Beans
                option(value='maize') Grain Maize
                option(value='cowpeas') Cow peas
                option(value='gnuts') G-nuts
                option(value='soybeans') Soybeans
              span#productnameError.invalid-feedback
            .form-group
              label(for='productType') Product Type
              select#productType.form-select(name='productType')
                option(value='') Select type
                option(value='Cereal') Cereal
                option(value='Legume') Legume
                option(value='Grain') Grain
                option(value='Other') Other
              span#productTypeError.invalid-feedback

          .form-row
            .form-group
              label(for='entryDate') Date of Entry
              input#entryDate(type='date' name='entryDate')
              span#entryDateError.invalid-feedback
            .form-group
              label(for='tonnage') Tonnage (kg)
              input#tonnage(type='number' name='tonnage')
              span#tonnageError.invalid-feedback

          .form-row
            .form-group
              label(for='cost') Cost (UGX)
              input#cost(type='number' name='cost')
              span#costError.invalid-feedback
            .form-group
              label(for='sellingPrice') Selling Price (UGX)
              input#sellingPrice(type='number' name='sellingPrice')
              span#sellingPriceError.invalid-feedback

          .form-row
            .form-group
              label(for='dealerName') Dealer Name
              input#dealerName(type='text' name='dealerName')
              span#dealerNameError.invalid-feedback
            .form-group
              label(for='dealerContact') Dealer Contact
              input#dealerContact(type='tel' name='dealerContact')
              span#dealerContactError.invalid-feedback

          .form-group
            label(for='branch') Branch
            select#branch(name='branch')
              option(value='') Select branch
              option(value='Maganjo') Maganjo
              option(value='Matugga') Matugga
            span#branchError.invalid-feedback

          .form-group
            label(for='productImage') Product Image
            input#productImage(type='file' name='image')
            small.text-muted Upload a clear photo of the product (optional)
            span#productImageError.invalid-feedback

          .form-group
            label(for='notes') Additional Notes
            textarea#notes(rows='2' name='notes')
            span#notesError.invalid-feedback

          button(type='submit') Add Produce

      // Chart Section
      section.chart-section
        h3.section-title
          span.icon(data-lucide='bar-chart-3')
          | Monthly Procurement Overview
        .chart-container
          canvas#procurementChart(width="400" height="200")

    // Init Lucide and Chart
    script(src="/js/product.js")
    