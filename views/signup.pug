doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title Register - Karibu Groceries
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css' rel='stylesheet')
    link(href='https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap' rel='stylesheet')
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css')
    link(rel='stylesheet' href='/css/styles.css')

  body
    .auth-container
      form#register-form.auth-form(method='post' action='/signingup' onsubmit="return validateForm(event)")
        h2 Create Account

        .form-group.mb-3
          label(for='role') 
            i.fas.fa-user-tie.me-2
            | Select Your Role
          select#role.form-control(name='role')
            option(value='' disabled selected) Choose your role
            option(value='Manager') Manager
            option(value='Director') Director
            option(value='SalesAgent') Sales Agent
          span#error-role.error-message

        // ðŸ‘‡ Wrapped branch field with a container for JS control
        #branch-container
          .form-group.mb-3
            label(for='branch') 
              i.fas.fa-store.me-2
              | Select Branch
            select#branch.form-control(name='branch')
              option(value='' disabled selected) Choose your branch
              option(value='Maganjo') Maganjo
              option(value='Mattuga') Mattuga
            span#error-branch.error-message

        .form-group.mb-3
          label(for='username') 
            i.fas.fa-user.me-2
            | Username
          input#username.form-control(type='text' name='username' placeholder='Enter your username')
          span#error-username.error-message

        .form-group.mb-3
          label(for='email') 
            i.fas.fa-envelope.me-2
            | Email Address
          input#email.form-control(type='email' name='email' placeholder='Enter your email')
          span#error-email.error-message

        .form-group.mb-3
          label(for='password') 
            i.fas.fa-lock.me-2
            | Password
          .input-group
            input#password.form-control(type='password' name='password' placeholder='Create a password' autocomplete='new-password')
            span.input-group-text.toggle-password(style="cursor: pointer")
              i.fas.fa-eye
          .progress.mt-2(style="height: 5px;")
            .progress-bar(id="password-strength-bar" role="progressbar" style="width: 0%; transition: width 0.3s ease;")
          small#password-strength-text.form-text.mt-1
          span#error-password.error-message

        .form-group.mb-4
          label(for='confirmPassword') 
            i.fas.fa-lock.me-2
            | Confirm Password
          .input-group
            input#confirmPassword.form-control(type='password' name='confirmPassword' placeholder='Confirm your password')
            span.input-group-text.toggle-password(style="cursor: pointer")
              i.fas.fa-eye
          span#error-confirmPassword.error-message

        button.btn.btn-custom.w-100(type='submit')
          i.fas.fa-user-plus.me-2
          | Register

        p.mt-4.text-center
          | Already have an account? 
          a(href='/login') Login here

    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js') 
    script(src='/js/script.js')
