doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title Add Credit Sale - #{produce.productname}
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css')
    link(rel='stylesheet' href='/css/creditsale.css')
    link(href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap' rel='stylesheet')
    script(src='https://unpkg.com/lucide@latest')

  body
    header.header
      .header-container
        .branding
          .logo
            span.icon(data-lucide='dollar-sign' style='width: 24px; height: 24px')
          h1 KGL Manager Dashboard
        .header-controls
          .branch-selector
            span.icon(data-lucide='map-pin' style='width: 18px; height: 18px')
            span#branchName Main Branch
          a.logout-btn(href="/logout")
            span.icon(data-lucide='log-out' style='width: 18px; height: 18px')
            | Sign Out

    nav.sidebar
      .nav-menu
        a.nav-item(href='/procurement')
          span.icon(data-lucide='package' style='width: 20px; height: 20px')
          span.nav-label Procurement
        a.nav-item(href='/sales')
          span.icon(data-lucide='dollar-sign' style='width: 20px; height: 20px')
          span.nav-label Record Sale
        a.nav-item(href='/ProducesList')
          span.icon(data-lucide='boxes' style='width: 20px; height: 20px')
          span.nav-label Inventory
        a.nav-item(href='/credit-sales' class='active')
          span.icon(data-lucide='file-text' style='width: 20px; height: 20px')
          span.nav-label Credit Sales
        a.nav-item(href='/add-user')
          span.icon(data-lucide='user-plus' style='width: 20px; height: 20px')
          span.nav-label Add User

    main.main-content
      .content-header
        .header-title
          h2
            span.icon(data-lucide='credit-card' style='width: 28px; height: 28px')
            | Add Credit Sale - #{produce.productname}

      .form-card
        form(action='/addCreditSale/' + produce._id method='post')
          .form-grid
            .form-group
              label.form-label(for='productname') Product Name
              input.form-control(type='text' name='productname' value=produce.productname readonly)
            
            .form-group
              label.form-label(for='saletonnage') Tonnage (kg)
              input.form-control(type='number' name='saletonnage' required)
            
            .form-group
              label.form-label(for='saleDate') Date of Sale
              input.form-control(type='date' name='saleDate' value=today required)
            
            .form-group
              label.form-label(for='saleTime') Time of Sale
              input.form-control(type='time' name='saleTime' required)
            
            .form-group
              label.form-label(for='totalAmount') Total Amount (UGX)
              input.form-control(type='number' name='totalAmount' required)
            
            .form-group
              label.form-label(for='buyerName') Buyer Name
              input.form-control(type='text' name='buyerName' required)
            
            .form-group
              label.form-label(for='buyerContact') Buyer Contact
              input.form-control(type='tel' name='buyerContact' required)
            
            .form-group
              label.form-label(for='location') Location
              input.form-control(type='text' name='location' required)
            
            .form-group
              label.form-label(for='nationalId') National ID
              input.form-control(type='text' name='nationalId' required)
            
            .form-group
              label.form-label(for='dueDate') Due Date
              input.form-control(type='date' name='dueDate' required)
            
            .form-group
              label.form-label(for='dispatchDate') Dispatch Date
              input.form-control(type='date' name='dispatchDate' required)
            
            .form-group
              label.form-label(for='branch') Branch
              input.form-control(type='text' name='branch' value=branch readonly)
            
            .form-group
              label.form-label(for='agentName') Agent Name
              input.form-control(type='text' name='agentName' value=username readonly)

          .form-actions
            button.btn.btn-primary(type='submit')
              span.icon(data-lucide='check-circle')
              | Submit Sale

    script.
      // Initialize Lucide Icons
      lucide.createIcons();
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js')