doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title Edit User - KGL Procurement
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css' rel='stylesheet')
    link(href='https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap' rel='stylesheet')
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css')
    link(rel='stylesheet' href='/css/form.css')
    link(rel='stylesheet' href='/css/creditlist.css') 
    link(href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap' rel='stylesheet')
    link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css')
    script(src='https://unpkg.com/lucide@latest')

  body
    header.header
      .header-container
        .branding
          .logo
            span.icon(data-lucide='file-text' style='width: 24px; height: 24px')
          h1 KGL Director's Dashboard
        .header-controls
          .branch-selector
            span.icon(data-lucide='map-pin' style='width: 18px; height: 18px')
            span#branchName Main Branch
          a.logout-btn(href='/logout')
            span.icon(data-lucide='log-out' style='width: 18px; height: 18px')
            | Sign Out

    nav.sidebar      
      .nav-menu
        a.nav-item.active(href='/directorDash')
          span.icon(data-lucide='layout-dashboard' style='margin-right: 6px')
          span.nav-label Dashboard
        a.nav-item(href='/overview')
          span.icon(data-lucide='store' style='margin-right: 6px')
          span.nav-label Branch Overview
        a.nav-item(href='/userlist')
          span.icon(data-lucide='users' style='margin-right: 6px')
          span.nav-label Users        
        a.nav-item(href='/additionuser')
          span.icon(data-lucide='user-plus' style='width: 20px; height: 20px')
          span.nav-label Add User

    main.main-content
      .container.mt-4
        .card.shadow-sm
          .card-header.bg-secondary.text-white
            h5.mb-0 Edit User

          .card-body
            form(method='post', action=`/signups/edit/${user._id}`)
              .mb-3
                label.form-label(for='username') Username
                input.form-control(type='text', id='username', name='username', value=user.username || '', required)

              .mb-3
                label.form-label(for='email') Email
                input.form-control(type='email', id='email', name='email', value=user.email || '', required)

              .mb-3
                label.form-label(for='role') Role
                select.form-select(id='role', name='role', required)
                  option(value='') Select Role
                  option(value='Manager' selected=user.role === 'Manager') Manager                           
                  option(value='SalesAgent' selected=user.role === 'SalesAgent') Sales Agent
                  
              button.btn.btn-success(type='submit')
                i.fas.fa-save.me-1
                | Update User
              a.btn.btn-secondary.ms-2(href='/userlist')
                i.fas.fa-arrow-left.me-1
                | Cancel

    script.
      
      lucide.createIcons();
      
      
      document.addEventListener('DOMContentLoaded', function() {
        const roleSelect = document.getElementById('role');
        
      });
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js')