doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title KGL - Branch Overview
    link(rel='stylesheet', href='/css/mdd.css')
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css')
    script(src='https://cdn.jsdelivr.net/npm/chart.js')
    script(src='https://unpkg.com/lucide@latest')

  body
    header.header
      .header-container
        .branding
          .logo
            span.icon(data-lucide='store' style='width: 24px; height: 24px')
          h1 KGL Branch Overview
        .header-controls
          .branch-selector
            span.icon(data-lucide='map-pin')
            span#branchName All Branches
          a.logout-btn(href="/logout")
            span.icon(data-lucide='log-out')
            | Sign Out

    nav.sidebar
      .nav-menu
        a.nav-item.active(href='/directorDash')
          span.icon(data-lucide='layout-dashboard' style='margin-right: 6px')
          span.nav-label Dashboard
        a.nav-item(href='/overview')
          span.icon(data-lucide='store' style='margin-right: 6px')
          span.nav-label Branch Overview
        a.nav-item(href='/userlist')
          span.icon(data-lucide='users' style='margin-right: 6px')
          span.nav-label Users        
        a.nav-item(href='/additionuser')
          span.icon(data-lucide='user-plus' style='width: 20px; height: 20px')
          span.nav-label Add User

        

    main.main-content
      .content-header
        h2
          span.icon(data-lucide='store' style='width: 28px; height: 28px')
          | Branch Performance

      .analytics-container
        .row.g-4.mb-4
          each branch in branchStats
            .col-md-4
              .stats-card
                span.icon(data-lucide='map-pin')
                h3 #{branch.name}
                p Sales: UGX #{branch.totalSales.toLocaleString()}               

        .row.mt-4
          .col-12
            .chart-card
              h4
                span.icon(data-lucide='table')
                | Detailed Branch Sales
              table.table.table-striped
                thead
                  tr
                    th Branch
                    th Total Sales (UGX)                    
                    th Number of Orders
                tbody
                  each b in branchStats
                    tr
                      td #{b.name}
                      td UGX #{b.totalSales.toLocaleString()}                      
                      td #{b.orders}

    script.
      lucide.createIcons();
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js')
